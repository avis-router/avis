+ general/cleanup
  * security: allow secure messaging (private key)
  * encryption?
  * DONE: (fixed aquatik)
    v1.0 fields on send and receive: support aquatik (TICKERTAPE, TICKERTEXT, 
    USER)
  * elvin disconnected when changing elvins shows new value
  * lighten icon, look at shadow centre
  * change dock icon when disconnected
  * BUG?: cursor update failed on restart + receive one new ext message
  * DONE: rename to "Ticker"
  * DONE: set sub - single window
  * see if we can avoid updating tracking areas during live scroll
  * DONE: move tooltip gen to ticker controller
  * animate reply/public button
  * cursor flips to hand briefly before text on entrance to ticker
  * DONE: icon
  * DONE: allow delete from ticker list
  * DONE: remove public button -> replace with icon
  * DONE: "Toggle Public" should be a checkbox
  * DONE: flip public/reply buttons
  * DONE: ticker controller to take control of ticker window
  * DONE: generalise tickerviewdragtarget
+ preferences
  * DONE: debug vs release
  * DONE: set URL 
+ reliable connection
  * start with perf tool -> send button never enabled
  * bogus URL failure
  * send failure not detected
  * elvin connection needs to be made thread safe: synchronized
  * 60 second pause to detect fail via firewall (see below)
  * DONE: use shutdown () or no select wakeup for BSD (?)
  * DONE: handle router shutdown/protocol error after open
+ attached URL's
  * why doesn't cursor change until clicked?
  * handle .webloc
  * handle v3.0 MIME encoding
  * DONE clear attached URL.
  * DONE fix drag second link
  * DONE truncation in middle
  * DONE animate appearance
+ replying
  * handle personal reply: copy thread ID <- reply to is ref to message
  * reply-to icon in text
  * highlight parents
  * right click on message: who's listening (via presence)
  * DONE: Growl pause on send
  * DONE: send menu item disabled when disconnected
  * DONE: change group -> reset reply ID
  * DONE: reply to control in message editor
  * DONE: link underline lag
  * DONE: reply button rollover: see subclass NSButton, override cellClass: Cell startTrackingAt:inView:
  * DONE: tooltip for client etc on messages  
  * DONE: cricinfo scores not wrapping properly
  * DONE: scrolling with mouse wheel leaves underline
  * DONE: underline links. use example at 
    http://developer.apple.com/samplecode/TextLinks/listing2.html OR use 
    NSView::addTrackingArea
  * DONE: links across group/from
+ growl
  * click on growl to show message
  * DONE: elvin connect/disconnect
+ presence
  * add a mute button - no growl. or use "Do not disturb" presence?
  * auto away status
  * highlight (& fade changes to status)
  * growl status changes
  * auto typing status
  * set sort order to be by status
  * icon status display + status duration
  * change presence status, incl invisible
  * DONE: prefs for presence groups
  * handle name, groups, buddies change
  * presence history: show person's history
  * cull non responsive entities. use on reconnect rather than clear/refresh
  * filter multiple users with differing presence: pick most online (or just show all)
  * DONE: liveness
+ multiple windows
  * move growl notif to app controller
+ filtering
  * reduce subscription to optimize filtering


---

Start ticker, select presence, just exits

30/01/09 7:08:15 AM Start connect to Elvin ticker[3068] 
30/01/09 7:08:15 AM Disconnect from Elvin ticker[3068] 
30/01/09 7:08:16 AM Connected to Elvin at: elvin://public.elvin.org ticker[3068] 
30/01/09 7:08:16 AM Elvin thread is terminating ticker[3068] 

---

Crash: pre presence

Also seen: 2009-01-23 15:32:33.496 ticker[35730:10b] *** -[NSBigMutableString substringWithRange:]: Range or index out of bounds

Process:         ticker [97314]
Path:            /Users/matt/Development/avis/objc/examples/ticker/build/Release/ticker.app/Contents/MacOS/ticker
Identifier:      name.mattp.ticker
Version:         ??? (1.0)
Code Type:       X86 (Native)
Parent Process:  bash [352]

Date/Time:       2009-01-22 04:39:56.240 +1030
OS Version:      Mac OS X 10.5.6 (9G55)
Report Version:  6

Exception Type:  EXC_BAD_ACCESS (SIGSEGV)
Exception Codes: KERN_INVALID_ADDRESS at 0x0000000016e099c1
Crashed Thread:  0

Thread 0 Crashed:
0   com.apple.AppKit              	0x94161624 _NSGlyphTreeGlyphRangeForCharacterRange + 1120
1   com.apple.AppKit              	0x94127ebf -[NSLayoutManager glyphRangeForCharacterRange:actualCharacterRange:] + 135
2   com.apple.AppKit              	0x942199c9 -[NSLayoutManager(NSPrivate) _insertionPointHelperForGlyphAtIndex:] + 1382
3   com.apple.AppKit              	0x9421936d _insertionPointHelperForCharacterAtIndex + 1555
4   com.apple.AppKit              	0x94132091 -[NSLayoutManager(NSPrivate) _rectArrayForRange:withinSelectionRange:rangeIsCharRange:singleRectOnly:fullLineRectsOnly:inTextContainer:rectCount:rangeWithinContainer:glyphsDrawOutsideLines:] + 4091
5   com.apple.AppKit              	0x9413056e -[NSLayoutManager(NSPrivate) _boundingRectForGlyphRange:inTextContainer:fast:fullLineRectsOnly:] + 120
6   com.apple.AppKit              	0x9421b66b -[NSLayoutManager boundingRectForGlyphRange:inTextContainer:] + 96
7   com.apple.AppKit              	0x9421b4c6 -[NSTextView(NSPrivate) _scrollRangeToVisible:forceCenter:] + 1682
8   com.apple.AppKit              	0x9421ae2e -[NSTextView scrollRangeToVisible:] + 56
9   name.mattp.ticker             	0x00003b69 -[TickerController handleNotify:] + 2189 (TickerController.m:368)
10  com.apple.Foundation          	0x9158b39c __NSThreadPerformPerform + 476
11  com.apple.CoreFoundation      	0x931a15f5 CFRunLoopRunSpecific + 3141
12  com.apple.CoreFoundation      	0x931a1cd8 CFRunLoopRunInMode + 88
13  com.apple.HIToolbox           	0x9038d2c0 RunCurrentEventLoopInMode + 283
14  com.apple.HIToolbox           	0x9038d0d9 ReceiveNextEventCommon + 374
15  com.apple.HIToolbox           	0x9038cf4d BlockUntilNextEventMatchingListInMode + 106
16  com.apple.AppKit              	0x940b2d7d _DPSNextEvent + 657
17  com.apple.AppKit              	0x940b2630 -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] + 128
18  com.apple.AppKit              	0x940ab66b -[NSApplication run] + 795
19  com.apple.AppKit              	0x940788a4 NSApplicationMain + 574
20  name.mattp.ticker             	0x00001d4e start + 54

Thread 1:
0   libSystem.B.dylib             	0x93c793ae __semwait_signal + 10
1   libSystem.B.dylib             	0x93ca3d0d pthread_cond_wait$UNIX2003 + 73
2   com.apple.Foundation          	0x915d22d2 -[NSCondition wait] + 210
3   com.apple.Foundation          	0x9158ac6a -[NSObject(NSThreadPerformAdditions) performSelector:onThread:withObject:waitUntilDone:modes:] + 938
4   com.apple.Foundation          	0x915de288 -[NSObject(NSThreadPerformAdditions) performSelectorOnMainThread:withObject:waitUntilDone:] + 184
5   name.mattp.ticker             	0x00005137 notification_listener + 415 (ElvinConnection.m:245)
6   org.avis.avis                 	0x00011fa1 deliver_notification + 208
7   org.avis.avis                 	0x00012054 dispatch_message + 145
8   org.avis.avis                 	0x000121ff elvin_poll + 324
9   name.mattp.ticker             	0x00004f19 -[ElvinConnection runElvinEventLoop] + 55 (ElvinConnection.m:365)
10  name.mattp.ticker             	0x00004cac -[ElvinConnection elvinEventLoopThread] + 109 (ElvinConnection.m:315)
11  com.apple.Foundation          	0x9158a7ed -[NSThread main] + 45
12  com.apple.Foundation          	0x9158a394 __NSThread__main__ + 308
13  libSystem.B.dylib             	0x93ca3095 _pthread_start + 321
14  libSystem.B.dylib             	0x93ca2f52 thread_start + 34

Thread 2:
0   libSystem.B.dylib             	0x93c72226 semaphore_timedwait_signal_trap + 10
1   libSystem.B.dylib             	0x93ca41ef _pthread_cond_wait + 1244
2   libSystem.B.dylib             	0x93ca5a73 pthread_cond_timedwait_relative_np + 47
3   com.apple.Foundation          	0x915d075c -[NSCondition waitUntilDate:] + 236
4   com.apple.Foundation          	0x915d0570 -[NSConditionLock lockWhenCondition:beforeDate:] + 144
5   com.apple.Foundation          	0x915d04d5 -[NSConditionLock lockWhenCondition:] + 69
6   com.apple.AppKit              	0x94118d90 -[NSUIHeartBeat _heartBeatThread:] + 753
7   com.apple.Foundation          	0x9158a7ed -[NSThread main] + 45
8   com.apple.Foundation          	0x9158a394 __NSThread__main__ + 308
9   libSystem.B.dylib             	0x93ca3095 _pthread_start + 321
10  libSystem.B.dylib             	0x93ca2f52 thread_start + 34

Thread 3:
0   libSystem.B.dylib             	0x93c72226 semaphore_timedwait_signal_trap + 10
1   libSystem.B.dylib             	0x93ca41ef _pthread_cond_wait + 1244
2   libSystem.B.dylib             	0x93ca5a73 pthread_cond_timedwait_relative_np + 47
3   com.apple.Foundation          	0x915d075c -[NSCondition waitUntilDate:] + 236
4   com.apple.Foundation          	0x915d0570 -[NSConditionLock lockWhenCondition:beforeDate:] + 144
5   com.apple.Foundation          	0x915d04d5 -[NSConditionLock lockWhenCondition:] + 69
6   com.apple.shortcut            	0x96c7b899 -[SCTGRLIndex handleThreadedFindGRLs] + 410
7   com.apple.Foundation          	0x9158a7ed -[NSThread main] + 45
8   com.apple.Foundation          	0x9158a394 __NSThread__main__ + 308
9   libSystem.B.dylib             	0x93ca3095 _pthread_start + 321
10  libSystem.B.dylib             	0x93ca2f52 thread_start + 34

Thread 0 crashed with X86 Thread State (32-bit):
  eax: 0x00016bd1  ebx: 0x941611e3  ecx: 0x00016bd1  edx: 0x16df2df0
  edi: 0x00016bd1  esi: 0x00000000  ebp: 0xbfffd448  esp: 0xbfffd380
   ss: 0x0000001f  efl: 0x00010297  eip: 0x94161624   cs: 0x00000017
   ds: 0x0000001f   es: 0x0000001f   fs: 0x00000000   gs: 0x00000037
  cr2: 0x16e099c1

Binary Images:
    0x1000 -     0x7ffe +name.mattp.ticker ??? (1.0) <6c3bac780654ec9da5c46c3a9728a381> /Users/matt/Development/avis/objc/examples/ticker/build/Release/ticker.app/Contents/MacOS/ticker
   0x11000 -    0x19ff7 +org.avis.avis ??? (1.0) <1b2d323780db90ac26729d66ce3f83dc> /Users/matt/Development/avis/objc/examples/ticker/build/Release/ticker.app/Contents/Frameworks/avis.framework/Versions/A/avis
   0xa7000 -    0xa8fff +de.tjsoft.OpenTerminalContextMenu ??? (1.0) /Users/matt/Library/Contextual Menu Items/OpenTerminalContextMenu.plugin/Contents/MacOS/OpenTerminalContextMenu
  0x48f000 -   0x491fdb +com.pmvendor.print.pde.ManagementCode KMAccountID version 1.8.0616 (1.9.0207) /Library/Printers/Kyocera/PDEs/KMAccountID.plugin/Contents/MacOS/KMAccountID
  0x4ad000 -   0x4b1fdb +com.pmvendor.print.pde.JobSettings KyoceraJobSettings version 1.4.0626 (1.4.0626) /Library/Printers/Kyocera/PDEs/KyoceraJobSettings.plugin/Contents/MacOS/KyoceraJobSettings
  0x532000 -   0x53afff +com.getdropbox.finderplugin ??? (169) <9b429dfa91be445a7d6e12d4749ccbba> /Users/matt/Library/Contextual Menu Items/DropboxPlugin.plugin/Contents/MacOS/DropboxPlugin
  0x546000 -   0x548ffe  com.apple.AutomatorCMM 1.1 (160) <650079fd95a57e8131e79409a00b2aed> /System/Library/Contextual Menu Items/AutomatorCMM.plugin/Contents/MacOS/AutomatorCMM
  0x551000 -   0x586fff  com.apple.print.framework.Print.Private 5.5.6 (237.14) /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Print.framework/Versions/Current/Plugins/PrintCocoaUI.bundle/Contents/MacOS/PrintCocoaUI
  0x59f000 -   0x5c7fff  com.apple.print.PrintingCocoaPDEs 5.5.6 (237.14) /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Print.framework/Versions/A/Plugins/PrintingCocoaPDEs.bundle/Contents/MacOS/PrintingCocoaPDEs
  0x655000 -   0x65bfcb +com.roxio.ToastItPlugin ToastIt 1.1.2 (build 17) (1.1.2) /Users/matt/Library/Contextual Menu Items/ToastIt.plugin/Contents/MacOS/ToastIt
  0x682000 -   0x683ffd  com.apple.BluetoothMenu 2.1.3 (2.1.3f8) /System/Library/Contextual Menu Items/BluetoothContextualMenu.plugin/Contents/MacOS/BluetoothContextualMenu
  0x688000 -   0x68afff  com.apple.BezelServicesFW 1.4.925 (1.4.925) /System/Library/PrivateFrameworks/BezelServices.framework/Versions/A/BezelServices
  0x6af000 -   0x6b4fff  com.apple.FolderActionsMenu 1.3.2 (1.3.2) <9ba69ef0bec96264a79fa28b3a5f058b> /System/Library/Contextual Menu Items/FolderActionsMenu.plugin/Contents/MacOS/FolderActionsMenu
  0x6bb000 -   0x6c0fff +com.tee.NuFile 1.9 (1.9) /Library/Contextual Menu Items/NuFile.plugin/Contents/MacOS/NuFile
  0x741000 -   0x746ff3  libCGXCoreImage.A.dylib ??? (???) <375e0cdb64b043378dbf637992bbfeb0> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCGXCoreImage.A.dylib
  0x76d000 -   0x76dffd  liblangid.dylib ??? (???) <4310e568d617f1ce7178266630e1b71a> /usr/lib/liblangid.dylib
 0x19c5000 -  0x1a38ff7  com.apple.Bluetooth 2.1.3 (2.1.3f8) <1e2732edbd0f2c1db1ce5ecf06aa8192> /System/Library/Frameworks/IOBluetooth.framework/Versions/A/IOBluetooth
0x1428d000 - 0x14483fff  com.apple.RawCamera.bundle 2.0.12 (421) <02fe3f4ea6251f7b2d23d855ce5c5fd2> /System/Library/CoreServices/RawCamera.bundle/Contents/MacOS/RawCamera
0x74400000 - 0x7440bfef  libPPDLib.dylib ??? (???) /System/Library/Printers/Libraries/libPPDLib.dylib
0x78e00000 - 0x78e06ffc  libLW8Utils.dylib ??? (???) /System/Library/Printers/Libraries/libLW8Utils.dylib
0x8fe00000 - 0x8fe2db43  dyld 97.1 (???) <100d362e03410f181a34e04e94189ae5> /usr/lib/dyld
0x900c2000 - 0x900c9fe9  libgcc_s.1.dylib ??? (???) <a9ab135a5f81f6e345527df87f51bfc9> /usr/lib/libgcc_s.1.dylib
0x900ca000 - 0x90156ff7  com.apple.LaunchServices 290.3 (290.3) <6f9629f4ed1ba3bb313548e6838b2888> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/LaunchServices
0x90157000 - 0x901d1ff8  com.apple.print.framework.PrintCore 5.5.3 (245.3) <222dade7b33b99708b8c09d1303f93fc> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/PrintCore.framework/Versions/A/PrintCore
0x901d2000 - 0x901dcfeb  com.apple.audio.SoundManager 3.9.2 (3.9.2) <0f2ba6e891d3761212cf5a5e6134d683> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/CarbonSound.framework/Versions/A/CarbonSound
0x901dd000 - 0x9035cfff  com.apple.AddressBook.framework 4.1.1 (699) <60ddae72a1df8ddbc5c53df92f372b76> /System/Library/Frameworks/AddressBook.framework/Versions/A/AddressBook
0x9035d000 - 0x90665fff  com.apple.HIToolbox 1.5.4 (???) <3747086ba21ee419708a5cab946c8ba6> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HIToolbox.framework/Versions/A/HIToolbox
0x90666000 - 0x9067bffb  com.apple.ImageCapture 5.0.1 (5.0.1) /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ImageCapture.framework/Versions/A/ImageCapture
0x90689000 - 0x90689ffc  com.apple.audio.units.AudioUnit 1.5 (1.5) /System/Library/Frameworks/AudioUnit.framework/Versions/A/AudioUnit
0x906c4000 - 0x90705fe7  libRIP.A.dylib ??? (???) <5d0b5af7992e14de017f9a9c7cb05960> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libRIP.A.dylib
0x90706000 - 0x9070ffff  com.apple.speech.recognition.framework 3.7.24 (3.7.24) <d3180f9edbd9a5e6f283d6156aa3c602> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/SpeechRecognition.framework/Versions/A/SpeechRecognition
0x90710000 - 0x9071dfe7  com.apple.opengl 1.5.9 (1.5.9) <7e5048a2677b41098c84045305f42f7f> /System/Library/Frameworks/OpenGL.framework/Versions/A/OpenGL
0x90780000 - 0x90b1dfef  com.apple.QuartzCore 1.5.7 (1.5.7) <2fed2dd7565c84a0f0c608d41d4d172c> /System/Library/Frameworks/QuartzCore.framework/Versions/A/QuartzCore
0x90b1e000 - 0x90b46fff  libcups.2.dylib ??? (???) <81abd305142ad1b771024eb4a1309e2e> /usr/lib/libcups.2.dylib
0x90b47000 - 0x90b72fe7  libauto.dylib ??? (???) <42d8422dc23a18071869fdf7b5d8fab5> /usr/lib/libauto.dylib
0x90b73000 - 0x90ba2fe3  com.apple.AE 402.2 (402.2) <e01596187e91af5d48653920017b8c8e> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/AE.framework/Versions/A/AE
0x90ba3000 - 0x90c20fef  libvMisc.dylib ??? (???) /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libvMisc.dylib
0x90c21000 - 0x90cdbfe3  com.apple.CoreServices.OSServices 226.5 (226.5) <2a135d4fb16f4954290f7b72b4111aa3> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/OSServices.framework/Versions/A/OSServices
0x90fff000 - 0x90fffffd  com.apple.vecLib 3.4.2 (vecLib 3.4.2) /System/Library/Frameworks/vecLib.framework/Versions/A/vecLib
0x91000000 - 0x91010fff  com.apple.speech.synthesis.framework 3.7.1 (3.7.1) <06d8fc0307314f8ffc16f206ad3dbf44> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/SpeechSynthesis.framework/Versions/A/SpeechSynthesis
0x91011000 - 0x9106aff7  libGLU.dylib ??? (???) /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLU.dylib
0x9106b000 - 0x910c8ffb  libstdc++.6.dylib ??? (???) <04b812dcec670daa8b7d2852ab14be60> /usr/lib/libstdc++.6.dylib
0x910c9000 - 0x910d0ffe  libbsm.dylib ??? (???) <d25c63378a5029648ffd4b4669be31bf> /usr/lib/libbsm.dylib
0x910d1000 - 0x910e0ffe  com.apple.DSObjCWrappers.Framework 1.2.1 (1.2.1) <eac1c7b7c07ed3148c85934b6f656308> /System/Library/PrivateFrameworks/DSObjCWrappers.framework/Versions/A/DSObjCWrappers
0x9111d000 - 0x914dbfea  libLAPACK.dylib ??? (???) /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libLAPACK.dylib
0x914dc000 - 0x914ebfff  libsasl2.2.dylib ??? (???) <bb7971ca2f609c070f87786a93d1041e> /usr/lib/libsasl2.2.dylib
0x914ec000 - 0x9157fff3  com.apple.ApplicationServices.ATS 3.4 (???) <8c51de0ec3deaef416578cd59df38754> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/Versions/A/ATS
0x91580000 - 0x917fbfe7  com.apple.Foundation 6.5.7 (677.22) <8fe77b5d15ecdae1240b4cb604fc6d0b> /System/Library/Frameworks/Foundation.framework/Versions/C/Foundation
0x9185e000 - 0x9187cfff  libresolv.9.dylib ??? (???) <a8018c42930596593ddf27f7c20fe7af> /usr/lib/libresolv.9.dylib
0x91953000 - 0x91969fff  com.apple.DictionaryServices 1.0.0 (1.0.0) <ad0aa0252e3323d182e17f50defe56fc> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/DictionaryServices.framework/Versions/A/DictionaryServices
0x9196a000 - 0x9196bffc  libffi.dylib ??? (???) <a3b573eb950ca583290f7b2b4c486d09> /usr/lib/libffi.dylib
0x91ad8000 - 0x91c2aff3  com.apple.audio.toolbox.AudioToolbox 1.5.2 (1.5.2) /System/Library/Frameworks/AudioToolbox.framework/Versions/A/AudioToolbox
0x91c2b000 - 0x91c74fef  com.apple.Metadata 10.5.2 (398.25) <e0572f20350523116f23000676122a8d> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/Metadata.framework/Versions/A/Metadata
0x91ca7000 - 0x91ccbfeb  libssl.0.9.7.dylib ??? (???) <c7359b7ab32b5f8574520746e10a41cc> /usr/lib/libssl.0.9.7.dylib
0x91e05000 - 0x91e20ffb  libPng.dylib ??? (???) <4780e979d35aa5ec2cea22678836cea5> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libPng.dylib
0x91e4c000 - 0x91e86fe7  com.apple.coreui 1.2 (62) /System/Library/PrivateFrameworks/CoreUI.framework/Versions/A/CoreUI
0x91e87000 - 0x92527fff  com.apple.CoreGraphics 1.407.2 (???) <3a91d1037afde01d1d8acdf9cd1caa14> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/CoreGraphics
0x928fc000 - 0x928fffff  com.apple.help 1.1 (36) <b507b08e484cb89033e9cf23062d77de> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Help.framework/Versions/A/Help
0x92900000 - 0x92907ff7  libCGATS.A.dylib ??? (???) <386dce4b28448fb86e33e06ac466f4d8> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCGATS.A.dylib
0x92ac5000 - 0x92ac7fff  com.apple.securityhi 3.0 (30817) <dbe328cd62d603a952a4226342711e8b> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/SecurityHI.framework/Versions/A/SecurityHI
0x92ac8000 - 0x92c96ff3  com.apple.security 5.0.4 (34102) <55dda7486df4e8e1d61505be16f83a1c> /System/Library/Frameworks/Security.framework/Versions/A/Security
0x92ca1000 - 0x92d82ff7  libxml2.2.dylib ??? (???) <d69560099d9eb32ba7f8a17baa65a28d> /usr/lib/libxml2.2.dylib
0x92e65000 - 0x92e71ff9  com.apple.helpdata 1.0.1 (14.2) /System/Library/PrivateFrameworks/HelpData.framework/Versions/A/HelpData
0x92e72000 - 0x92ec3ff7  com.apple.HIServices 1.7.0 (???) <01b690d1f376e400ac873105533e39eb> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/HIServices.framework/Versions/A/HIServices
0x92ec4000 - 0x92f02ff7  libGLImage.dylib ??? (???) <1123b8a48bcbe9cc7aa8dd8e1a214a66> /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLImage.dylib
0x92f03000 - 0x92fcefff  com.apple.ColorSync 4.5.1 (4.5.1) /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ColorSync.framework/Versions/A/ColorSync
0x9312e000 - 0x93261fff  com.apple.CoreFoundation 6.5.5 (476.17) <4a70c8dbb582118e31412c53dc1f407f> /System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation
0x93262000 - 0x93266fff  libmathCommon.A.dylib ??? (???) /usr/lib/system/libmathCommon.A.dylib
0x93267000 - 0x932fafff  com.apple.ink.framework 101.3 (86) <bf3fa8927b4b8baae92381a976fd2079> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Ink.framework/Versions/A/Ink
0x932fb000 - 0x93300fff  com.apple.CommonPanels 1.2.4 (85) <ea0665f57cd267609466ed8b2b20e893> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/CommonPanels.framework/Versions/A/CommonPanels
0x93309000 - 0x93317ffd  libz.1.dylib ??? (???) <5ddd8539ae2ebfd8e7cc1c57525385c7> /usr/lib/libz.1.dylib
0x93318000 - 0x93337ffa  libJPEG.dylib ??? (???) <e7eb56555109e23144924cd64aa8daec> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libJPEG.dylib
0x93338000 - 0x93356ff3  com.apple.DirectoryService.Framework 3.5.5 (3.5.5) <f8931f64103c8a86b82e9714352f4323> /System/Library/Frameworks/DirectoryService.framework/Versions/A/DirectoryService
0x93357000 - 0x93389fff  com.apple.LDAPFramework 1.4.5 (110) <cc04500cf7b6edccc75bb3fe2973f72c> /System/Library/Frameworks/LDAP.framework/Versions/A/LDAP
0x9338a000 - 0x9339affc  com.apple.LangAnalysis 1.6.4 (1.6.4) <8b7831b5f74a950a56cf2d22a2d436f6> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/LangAnalysis.framework/Versions/A/LangAnalysis
0x9339b000 - 0x933c8feb  libvDSP.dylib ??? (???) <b232c018ddd040ec4e2c2af632dd497f> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libvDSP.dylib
0x933c9000 - 0x9350fff7  com.apple.ImageIO.framework 2.0.4 (2.0.4) <6a6623d3d1a7292b5c3763dcd108b55f> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/ImageIO
0x93510000 - 0x93510ff8  com.apple.ApplicationServices 34 (34) <8f910fa65f01d401ad8d04cc933cf887> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/ApplicationServices
0x93511000 - 0x93535fff  libxslt.1.dylib ??? (???) <0a9778d6368ae668826f446878deb99b> /usr/lib/libxslt.1.dylib
0x93bd7000 - 0x93bd9ff5  libRadiance.dylib ??? (???) <8a844202fcd65662bb9ab25f08c45a62> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libRadiance.dylib
0x93c0d000 - 0x93c13fff  com.apple.print.framework.Print 218.0.2 (220.1) <8bf7ef71216376d12fcd5ec17e43742c> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Print.framework/Versions/A/Print
0x93c14000 - 0x93c70ff7  com.apple.htmlrendering 68 (1.1.3) <fe87a9dede38db00e6c8949942c6bd4f> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HTMLRendering.framework/Versions/A/HTMLRendering
0x93c71000 - 0x93dd8ff3  libSystem.B.dylib ??? (???) <d68880dfb1f8becdbdac6928db1510fb> /usr/lib/libSystem.B.dylib
0x93df1000 - 0x93df5fff  libGIF.dylib ??? (???) <572a32e46e33be1ec041c5ef5b0341ae> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libGIF.dylib
0x93df6000 - 0x93f2eff7  libicucore.A.dylib ??? (???) <18098dcf431603fe47ee027a60006c85> /usr/lib/libicucore.A.dylib
0x93f32000 - 0x93fbdfff  com.apple.framework.IOKit 1.5.1 (???) <f9f5f0d070e197a832d86751e1d44545> /System/Library/Frameworks/IOKit.framework/Versions/A/IOKit
0x93fbe000 - 0x94070ffb  libcrypto.0.9.7.dylib ??? (???) <69bc2457aa23f12fa7d052601d48fa29> /usr/lib/libcrypto.0.9.7.dylib
0x94071000 - 0x94071fff  com.apple.Carbon 136 (136) <9961570a497d79f13b8ea159826af42d> /System/Library/Frameworks/Carbon.framework/Versions/A/Carbon
0x94072000 - 0x94870fef  com.apple.AppKit 6.5.6 (949.43) <a3a300499bbe4f1dfebf71d752d01916> /System/Library/Frameworks/AppKit.framework/Versions/C/AppKit
0x94871000 - 0x9490effc  com.apple.CFNetwork 422.11 (422.11) <2780dfc3d2186195fccb3634bfb0944b> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/CFNetwork.framework/Versions/A/CFNetwork
0x9490f000 - 0x94999fe3  com.apple.DesktopServices 1.4.7 (1.4.7) <d16642ba22c32f67be793ebfbe67ca3a> /System/Library/PrivateFrameworks/DesktopServicesPriv.framework/Versions/A/DesktopServicesPriv
0x94a7b000 - 0x94a80fff  com.apple.backup.framework 1.0 (1.0) /System/Library/PrivateFrameworks/Backup.framework/Versions/A/Backup
0x94a81000 - 0x94a8dffe  libGL.dylib ??? (???) /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib
0x94a8e000 - 0x94b73ff3  com.apple.CoreData 100.1 (186) <8e28162ef2288692615b52acc01f8b54> /System/Library/Frameworks/CoreData.framework/Versions/A/CoreData
0x94b74000 - 0x94bf1feb  com.apple.audio.CoreAudio 3.1.1 (3.1.1) <f35477a5e23db0fa43233c37da01ae1c> /System/Library/Frameworks/CoreAudio.framework/Versions/A/CoreAudio
0x95ba8000 - 0x95ba8ffb  com.apple.installserver.framework 1.0 (8) /System/Library/PrivateFrameworks/InstallServer.framework/Versions/A/InstallServer
0x95ba9000 - 0x95bbffe7  com.apple.CoreVideo 1.5.1 (1.5.1) <001910004257f1386724398f584b30b5> /System/Library/Frameworks/CoreVideo.framework/Versions/A/CoreVideo
0x95c0b000 - 0x95cd2ff2  com.apple.vImage 3.0 (3.0) /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vImage.framework/Versions/A/vImage
0x95cd3000 - 0x95cd3ffd  com.apple.Accelerate.vecLib 3.4.2 (vecLib 3.4.2) /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/vecLib
0x95cd5000 - 0x95d0cfff  com.apple.SystemConfiguration 1.9.2 (1.9.2) <8b26ebf26a009a098484f1ed01ec499c> /System/Library/Frameworks/SystemConfiguration.framework/Versions/A/SystemConfiguration
0x95d0d000 - 0x961def3e  libGLProgrammability.dylib ??? (???) <5d283543ac844e7c6fa3440ac56cd265> /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLProgrammability.dylib
0x962ae000 - 0x96335ff7  libsqlite3.0.dylib ??? (???) <6978bbcca4277d6ae9f042beff643f7d> /usr/lib/libsqlite3.0.dylib
0x96336000 - 0x96336ffa  com.apple.CoreServices 32 (32) <2fcc8f3bd5bbfc000b476cad8e6a3dd2> /System/Library/Frameworks/CoreServices.framework/Versions/A/CoreServices
0x9639e000 - 0x96678ff3  com.apple.CoreServices.CarbonCore 786.10 (786.10) <ec35bb05f67fe0e828d49dda88bbf6d7> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/CarbonCore.framework/Versions/A/CarbonCore
0x96679000 - 0x96a89fef  libBLAS.dylib ??? (???) /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libBLAS.dylib
0x96a8a000 - 0x96b31feb  com.apple.QD 3.11.54 (???) <b743398c24c38e581a86e91744a2ba6e> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/QD.framework/Versions/A/QD
0x96b32000 - 0x96b74fef  com.apple.NavigationServices 3.5.2 (163) <91844980804067b07a0b6124310d3f31> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/NavigationServices.framework/Versions/A/NavigationServices
0x96c77000 - 0x96c9fff7  com.apple.shortcut 1 (1.0) <057783867138902b52bc0941fedb74d1> /System/Library/PrivateFrameworks/Shortcut.framework/Versions/A/Shortcut
0x96ca0000 - 0x96ca8fff  com.apple.DiskArbitration 2.2.1 (2.2.1) <75b0c8d8940a8a27816961dddcac8e0f> /System/Library/Frameworks/DiskArbitration.framework/Versions/A/DiskArbitration
0x96ca9000 - 0x96d03ff7  com.apple.CoreText 2.0.3 (???) <1f1a97273753e6cfea86c810d6277680> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreText.framework/Versions/A/CoreText
0x96d04000 - 0x96d04ff8  com.apple.Cocoa 6.5 (???) <e064f94d969ce25cb7de3cfb980c3249> /System/Library/Frameworks/Cocoa.framework/Versions/A/Cocoa
0x96d35000 - 0x96db4ff5  com.apple.SearchKit 1.2.1 (1.2.1) <3140a605db2abf56b237fa156a08b28b> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/SearchKit.framework/Versions/A/SearchKit
0x96db5000 - 0x96df4fef  libTIFF.dylib ??? (???) <3589442575ac77746ae99ecf724f5f87> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libTIFF.dylib
0x96df5000 - 0x96ea5fff  edu.mit.Kerberos 6.0.12 (6.0.12) <685cc018c133668d0d3ac6a1cb63cff9> /System/Library/Frameworks/Kerberos.framework/Versions/A/Kerberos
0x96f70000 - 0x96f88fff  com.apple.openscripting 1.2.8 (???) <572c7452d7e740e8948a5ad07a99602b> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/OpenScripting.framework/Versions/A/OpenScripting
0x96ff5000 - 0x96ff5ffd  com.apple.Accelerate 1.4.2 (Accelerate 1.4.2) /System/Library/Frameworks/Accelerate.framework/Versions/A/Accelerate
0x96ff6000 - 0x970d6fff  libobjc.A.dylib ??? (???) <7b92613fdf804fd9a0a3733a0674c30b> /usr/lib/libobjc.A.dylib
0x970d7000 - 0x970e2fe7  libCSync.A.dylib ??? (???) <e6aceed359bd228f42bc1246af5919c9> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCSync.A.dylib
0xba900000 - 0xba916fff  libJapaneseConverter.dylib ??? (???) <1e92e348e73fc6fce723936c11e4b25c> /System/Library/CoreServices/Encodings/libJapaneseConverter.dylib
0xc0000000 - 0xc0008fff +com.growl.growlframework 1.1.4 (1.1.4) <e42fe97093035d2485b764ccf9a15d70> /Users/matt/Development/avis/objc/examples/ticker/build/Release/ticker.app/Contents/Frameworks/Growl.framework/Versions/A/Growl
0xfffe8000 - 0xfffebfff  libobjc.A.dylib ??? (???) /usr/lib/libobjc.A.dylib
0xffff0000 - 0xffff1780  libSystem.B.dylib ??? (???) /usr/lib/libSystem.B.dylib


---

While blocked trying to connect outside firewall

Sampling process 4057 for 3 seconds with 1 millisecond of run time between samples
Sampling completed, processing symbols...
Analysis of sampling ticker (pid 4057) every 1 millisecond
Call graph:
    2470 Thread_2503
      2470 start
        2470 NSApplicationMain
          2470 -[NSApplication run]
            2470 -[NSApplication sendEvent:]
              2470 -[NSApplication _handleKeyEquivalent:]
                2470 -[NSMenu performKeyEquivalent:]
                  2470 -[NSCarbonMenuImpl performActionWithHighlightingForItemAtIndex:]
                    2470 -[NSMenu performActionForItemAtIndex:]
                      2470 -[NSApplication sendAction:to:from:]
                        2470 -[NSApplication terminate:]
                          2470 -[NSNotificationCenter postNotificationName:object:]
                            2470 -[NSNotificationCenter postNotificationName:object:userInfo:]
                              2470 _CFXNotificationPostNotification
                                2470 __CFXNotificationPost
                                  2470 _nsnote_callback
                                    2470 -[AppController deallocElvin]
                                      2470 -[ElvinConnection disconnect]
                                        2470 usleep$UNIX2003
                                          2470 __semwait_signal
                                            2470 __semwait_signal
    2470 Thread_2603
      2470 thread_start
        2470 _pthread_start
          2470 __NSThread__main__
            2470 -[NSThread main]
              2470 -[ElvinConnection elvinEventLoopThread]
                2470 -[ElvinConnection openConnection]
                  2470 elvin_open
                    2470 elvin_open_with_keys
                      2470 connect$UNIX2003
                        2470 connect$UNIX2003

Total number in stack (recursive counted multiple, when >=5):

Sort by top of stack, same collapsed (when >= 5):
        __semwait_signal        2470
        connect$UNIX2003        2470
Sample analysis of process 4057 written to file /dev/stdout



-----

Deadlock on exit

Sampling process 34486 for 3 seconds with 1 millisecond of run time between samples
Sampling completed, processing symbols...
Analysis of sampling ticker (pid 34486) every 1 millisecond
Call graph:
    2012 Thread_2503
      2012 start
        2012 NSApplicationMain
          2012 -[NSApplication run]
            2012 -[NSApplication sendEvent:]
              2012 -[NSApplication _handleKeyEquivalent:]
                2012 -[NSMenu performKeyEquivalent:]
                  2012 -[NSCarbonMenuImpl performActionWithHighlightingForItemAtIndex:]
                    2012 -[NSMenu performActionForItemAtIndex:]
                      2012 -[NSApplication sendAction:to:from:]
                        2012 -[NSApplication terminate:]
                          2012 -[NSNotificationCenter postNotificationName:object:]
                            2012 -[NSNotificationCenter postNotificationName:object:userInfo:]
                              2012 _CFXNotificationPostNotification
                                2012 __CFXNotificationPost
                                  2012 _nsnote_callback
                                    2012 -[ElvinConnection disconnect]
                                      2012 usleep$UNIX2003
                                        2012 __semwait_signal
                                          2012 __semwait_signal
    2012 Thread_2603
      2012 thread_start
        2012 _pthread_start
          2012 __NSThread__main__
            2012 -[NSThread main]
              2012 -[ElvinConnection elvinEventLoopThread]
                2012 -[ElvinConnection runElvinEventLoop]
                  2012 elvin_poll
                    2012 dispatch_message
                      2012 elvin_close
                        2012 send_and_receive
                          2012 dispatch_message
                            2012 deliver_notification
                              2012 notification_listener
                                2012 -[NSObject(NSThreadPerformAdditions) performSelectorOnMainThread:withObject:waitUntilDone:]
                                  2012 -[NSObject(NSThreadPerformAdditions) performSelector:onThread:withObject:waitUntilDone:modes:]
                                    2012 -[NSCondition wait]
                                      2012 pthread_cond_wait$UNIX2003
                                        2012 __semwait_signal
                                          2012 __semwait_signal
    2012 Thread_2703
      2012 thread_start
        2012 _pthread_start
          2012 __NSThread__main__
            2012 -[NSThread main]
              2012 -[NSUIHeartBeat _heartBeatThread:]
                1867 usleep$UNIX2003
                  1867 __semwait_signal
                    1867 __semwait_signal
                135 -[NSWindow(NSWindow_Theme) heartBeat:]
                  135 -[NSButtonCell(NSDefaultButtonIndicatorPrivate) heartBeat:]
                    119 -[NSView _lightWeightRecursiveDisplayInRect:]
                      109 CFArrayApplyFunction
                        109 _lightWeightRecursiveDisplayInRect2
                          107 -[NSView _lightWeightRecursiveDisplayInRect:]
                            104 CFArrayApplyFunction
                              103 _lightWeightRecursiveDisplayInRect2
                                103 -[NSView _lightWeightRecursiveDisplayInRect:]
                                  101 -[NSView _drawRect:clip:]
                                    98 -[NSControl drawRect:]
                                      78 -[NSButtonCell drawWithFrame:inView:]
                                        78 -[NSButtonCell drawBezelWithFrame:inView:]
                                          77 -[NSButtonCell _coreUIDrawBezelWithFrame:inView:]
                                            75 CUIRenderer::Draw(CGRect, CGContext*, __CFDictionary const*, __CFDictionary const**)
                                              74 CUIRenderer::DrawPushButton(CUIContext const*)
                                                67 CGContextDrawImages
                                                  66 ripc_DrawImages
                                                    63 ripc_RenderImage
                                                      63 ripl_BltImage
                                                        61 ripl_Mark
                                                          61 argb32_image
                                                            56 argb32_image_mark
                                                              35 argb32_image_mark
                                                              17 argb32_sample_argb32
                                                                17 argb32_sample_argb32
                                                              4 argb32_sample_ARGB32
                                                                4 argb32_sample_ARGB32
                                                            5 argb32_image_mark_RGB32
                                                              5 argb32_image_mark_RGB32
                                                        2 ripd_Mark
                                                          2 argb32_image
                                                            2 argb32_mark
                                                              2 argb32_mark_pixelshape
                                                                2 argb32_mark_pixelshape
                                                    1 CGRectStandardize
                                                      1 CGRectStandardize
                                                    1 ripc_AcquireImage
                                                      1 CGSImageDataLock
                                                        1 img_data_lock
                                                          1 malloc_zone_malloc
                                                            1 __spin_lock
                                                              1 __spin_lock
                                                    1 ripc_DrawImages
                                                  1 ceil
                                                    1 ceil
                                                6 CGContextEndTransparencyLayer
                                                  5 ripc_EndLayer
                                                    5 ripc_RenderImage
                                                      5 ripl_BltImage
                                                        4 ripd_Mark
                                                          4 argb32_image
                                                            4 sseCGSBlendXXXX8888
                                                              4 sseCGSBlendXXXX8888
                                                        1 ripd_Unlock
                                                          1 CGSDeviceUnlock
                                                            1 CGSBoundingShapeAdd
                                                              1 shape_accum_add_bounds
                                                                1 shape_accum_add_bounds
                                                  1 CGContextEndTransparencyLayer
                                                1 CUIPenCG::BeginLayerWithRect(void*, CGRect, __CFDictionary const*)
                                                  1 CGContextBeginTransparencyLayerWithRect
                                                    1 ripc_BeginLayer
                                                      1 malloc_zone_malloc
                                                        1 szone_malloc
                                                          1 szone_malloc
                                              1 CUIPenCG::GetCTM(void*)
                                                1 CGContextGetCTM
                                                  1 CGContextGetCTM
                                            2 -[NSButtonCell _coreUIBezelDrawOptionsWithFrame:inView:]
                                              2 CFDictionarySetValue
                                                1 __CFDictionaryFindBuckets2
                                                  1 __CFDictionaryFindBuckets2
                                                1 __CFDictionaryGrow
                                                  1 malloc_zone_malloc
                                                    1 szone_malloc
                                                      1 szone_malloc
                                          1 objc_msgSend
                                            1 objc_msgSend
                                      17 -[NSButtonCell drawInteriorWithFrame:inView:]
                                        16 -[NSButtonCell _configureAndDrawTitleWithRect:cellFrame:controlView:]
                                          8 CGContextDrawImage
                                            8 ripc_DrawImage
                                              6 ripc_RenderImage
                                                6 ripl_BltImage
                                                  5 ripd_Mark
                                                    5 argb32_image
                                                      5 argb32_mark
                                                        5 argb32_mark_pixelshape
                                                          5 argb32_mark_pixelshape
                                                  1 ripd_Unlock
                                                    1 CGSDeviceUnlock
                                                      1 _CGSUnlockWindow
                                                        1 _CGSUnlockWindow
                                              2 ripc_AcquireImage
                                                2 CGSImageDataLock
                                                  2 img_data_lock
                                                    1 CGColorTransformConvertNeedsCMS
                                                      1 resolveSource
                                                        1 resolveSource
                                                    1 img_data_lock
                                          3 -[NSButtonCell attributedTitle]
                                            2 -[NSCell _unformattedAttributedStringValue:]
                                              1 -[NSCell _textAttributes]
                                                1 -[NSCFDictionary setObject:forKey:]
                                                  1 -[NSCFDictionary setObject:forKey:]
                                              1 -[NSConcreteAttributedString initWithString:attributes:]
                                                1 -[NSRLEArray init]
                                                  1 -[NSRLEArray initWithRefCountedRunArray:]
                                                    1 -[NSRLEArray _makeNewListFrom:]
                                                      1 NSAllocateCollectable
                                                        1 malloc_zone_calloc
                                                          1 szone_calloc
                                                            1 szone_calloc
                                            1 -[NSObject(NSObject) autorelease]
                                              1 __NSAutoreleaseObject
                                                1 __NSAutoreleaseObject
                                          2 CGContextScaleCTM
                                            2 CGAffineTransformScale
                                              2 CGAffineTransformScale
                                          2 objc_msgSend
                                            2 objc_msgSend
                                          1 CGGStateSetCompositeOperation
                                            1 maybeCopyRenderingState
                                              1 calloc
                                                1 malloc_zone_calloc
                                                  1 szone_calloc
                                                    1 __bzero
                                                      1 __bzero
                                        1 objc_msgSend
                                          1 objc_msgSend
                                      1 -[NSControl _shouldShowFirstResponderForCell:]
                                        1 objc_msgSend
                                          1 objc_msgSend
                                      1 floor$fenv_access_off
                                        1 floor$fenv_access_off
                                      1 objc_msgSend
                                        1 objc_msgSend
                                    1 CGContextRestoreGState
                                      1 CGGStackRestore
                                        1 CGGStateRelease
                                          1 free
                                            1 szone_free
                                              1 szone_free
                                    1 NSRectClipList
                                      1 CGContextClipToRects
                                        1 CGContextClipToRect
                                          1 CGGStateClipToRect
                                            1 maybeCopyClipState
                                              1 CGClipStackCreateMutableCopy
                                                1 calloc
                                                  1 malloc_zone_calloc
                                                    1 szone_calloc
                                                      1 tiny_malloc_from_free_list
                                                        1 tiny_malloc_from_free_list
                                    1 objc_msgSend
                                      1 objc_msgSend
                                  2 -[NSView unlockFocus]
                                    1 -[NSFocusStack popTopView]
                                      1 PSgrestore
                                        1 -[NSCFArray removeLastObject]
                                          1 -[NSCFArray removeObjectAtIndex:]
                                            1 _CFArrayReplaceValues
                                              1 _CFArrayReplaceValues
                                    1 -[NSFocusStack unfocusView:]
                                      1 -[NSFocusStack unfocusView:]
                              1 objc_msgSend
                                1 objc_msgSend
                            1 -[NSView lockFocusIfCanDraw]
                              1 PSgsave
                                1 CGContextSaveGState
                                  1 CGGStackSave
                                    1 CGGStateCreateCopy
                                      1 CGGStateClipCopy
                                        1 CGGStateClipCopy
                            1 -[NSView unlockFocus]
                              1 -[NSFocusStack fixInvalidatedFocusForFocusView]
                                1 -[NSWindowGraphicsContext focusStack]
                                  1 __NSAppKitGetThreadSpecificData
                                    1 __NSAppKitGetThreadSpecificData
                            1 objc_msgSend
                              1 objc_msgSend
                          1 -[NSConcreteMapTable setObject:forKey:]
                            1 objc_msgSend
                              1 objc_msgSend
                          1 -[NSRectSet initWithRect:]
                            1 -[NSRectSet initWithRect:]
                      7 -[NSView _drawRect:clip:]
                        5 -[NSThemeFrame drawRect:]
                          5 -[NSFrameView drawRect:]
                            5 -[NSFrameView drawThemeContentFill:inView:]
                              4 -[NSThemeFrame drawWindowBackgroundRect:]
                                4 -[NSFrameView drawWindowBackgroundRect:]
                                  4 NSDrawWindowBackground
                                    3 NSRectFillUsingOperation
                                      3 CGContextFillRect
                                        3 CGContextFillRects
                                          3 ripc_DrawRects
                                            3 ripc_Render
                                              3 ripl_BltShape
                                                3 argb32_mark
                                                  3 argb32_mark_constshape
                                                    3 sseCGSFill8by1
                                                      3 sseCGSFill8by1
                                    1 CGContextSaveGState
                                      1 CGGStackSave
                                        1 CGGStateCreateCopy
                                          1 calloc
                                            1 malloc_zone_calloc
                                              1 malloc_zone_calloc
                              1 -[NSThemeFrame _regionForOpaqueDescendants:forMove:]
                                1 -[NSView _regionForOpaqueDescendants:forMove:]
                                  1 -[NSView _regionForOpaqueDescendants:forMove:]
                        2 -[NSThemeFrame _regionForOpaqueDescendants:forMove:]
                          2 -[NSView _regionForOpaqueDescendants:forMove:]
                            1 NSIntersectionRect
                              1 NSIntersectionRect
                            1 objc_msgSend_stret
                              1 objc_msgSend_stret
                      2 -[NSView unlockFocus]
                        2 -[NSFocusStack popTopView]
                          1 -[NSFocusStack popTopView]
                          1 PSgrestore
                            1 -[NSObject retain]
                              1 __spin_lock
                                1 __spin_lock
                      1 -[NSView lockFocusIfCanDraw]
                        1 -[NSFocusState flush]
                          1 CGContextResetTopGState
                            1 CGGStateResetClip
                              1 CGClipStackCreateMutable
                                1 calloc
                                  1 malloc_zone_calloc
                                    1 malloc_zone_calloc
                    4 -[NSUIHeartBeat lockFocusForView:inRect:needsTranslation:]
                      4 -[NSView lockFocus]
                        4 -[NSView lockFocusIfCanDraw]
                          2 -[NSFocusState flush]
                            1 -[NSFrameView adjustHalftonePhase]
                              1 -[NSThemeFrame contentFill]
                                1 -[NSWindow _isDarkWindow]
                                  1 _NSUseLeopardWindowValues
                                    1 _NSUseLeopardWindowValues
                            1 -[NSWindow _windowDeviceRound]
                              1 CGContextResetClip
                                1 CGContextResetClip
                          2 -[NSView _focusFromView:withContext:]
                            1 -[NSView _focusFromView:withContext:]
                            1 -[NSView _gatherFocusStateInto:upTo:withContext:]
                              1 -[NSView _gatherFocusStateInto:upTo:withContext:]
                                1 -[NSView _gatherFocusStateInto:upTo:withContext:]
                                  1 -[NSView _focusInto:withClip:]
                                    1 -[NSFocusState addSpecialGStateView:]
                                      1 __CFArrayInit
                                        1 _CFRuntimeCreateInstance
                                          1 CFAllocatorAllocate
                                            1 CFAllocatorAllocate
                    2 -[NSCFArray removeLastObject]
                      2 -[NSCFArray removeObjectAtIndex:]
                        2 _CFArrayReplaceValues
                          2 __CFArrayReleaseValues
                            2 CFRelease
                              2 -[_NSDisplayOperation dealloc]
                                1 -[NSConcreteMapTable dealloc]
                                  1 dealloc
                                    1 szone_free
                                      1 szone_free
                                1 -[NSObject release]
                                  1 __CFDoExternRefOperation
                                    1 __CFDoExternRefOperation
                    2 -[NSObject release]
                      2 __CFDoExternRefOperation
                        2 CFBagContainsValue
                          2 __CFBagFindBuckets1a
                            2 __CFBagFindBuckets1a
                    2 -[NSUIHeartBeat unlockFocusInRect:]
                      2 -[NSView unlockFocus]
                        2 -[NSFocusStack popTopView]
                          2 PSgrestore
                            1 -[NSObject release]
                              1 __CFDoExternRefOperation
                                1 CFBagContainsValue
                                  1 __CFBagFindBuckets1a
                                    1 __CFBagFindBuckets1a
                            1 CGContextRestoreGState
                              1 CGGStackRestore
                                1 CGGStateRelease
                                  1 strokeStateRelease
                                    1 free
                                      1 szone_free
                                        1 szone_free
                    2 objc_msgSend
                      2 objc_msgSend
                    1 -[NSButton _focusRingBleedRegion]
                      1 -[NSCFString isEqualToString:]
                        1 -[NSCFString isEqualToString:]
                    1 -[NSView convertRect:fromView:]
                      1 -[NSView _convertRect:fromAncestor:]
                        1 -[NSView _convertRectFromSuperview:test:]
                          1 -[NSButton isFlipped]
                            1 -[NSButton isFlipped]
                    1 -[NSView convertRect:toView:]
                      1 -[NSView _convertRect:toAncestor:]
                        1 -[NSButton isFlipped]
                          1 -[NSButton isFlipped]
                    1 -[_NSDisplayOperationStack enterDisplayOperationForWindow:windowRegion:]
                      1 -[NSCFArray addObject:]
                        1 -[NSCFArray insertObject:atIndex:]
                          1 _CFArrayReplaceValues
                            1 _CFArrayReplaceValues
                6 -[NSSet makeObjectsPerformSelector:]
                  6 -[NSWindow flushWindow]
                    5 CGContextFlush
                      5 ripc_Operation
                        5 CGSDeviceSynchronize
                          5 _CGSFlushRegionInline
                            5 mach_msg
                              5 mach_msg_trap
                                5 mach_msg_trap
                    1 -[NSWindow isFlushWindowDisabled]
                      1 -[NSWindow _threadContext]
                        1 -[NSWindow _threadContext]
                2 NSPopAutoreleasePool
                  1 -[NSConcreteAttributedString dealloc]
                    1 -[NSRLEArray dealloc]
                      1 malloc_zone_from_ptr
                        1 malloc_zone_from_ptr
                  1 objc_msgSend
                    1 objc_msgSend
                1 -[NSApplication _keyWindowForHeartBeat]
                  1 _NSAppKitLock
                    1 _NSAddExceptionHandlerForLock
                      1 _CFDoExceptionOperation
                        1 _CFDoExceptionOperation
                1 CFAbsoluteTimeGetCurrent
                  1 CFAbsoluteTimeGetCurrent

Total number in stack (recursive counted multiple, when >=5):
        11       objc_msgSend
        5       malloc_zone_calloc

Sort by top of stack, same collapsed (when >= 5):
        __semwait_signal        5891
        argb32_image_mark        35
        argb32_sample_argb32        17
        objc_msgSend        13
        argb32_mark_pixelshape        7
        argb32_image_mark_RGB32        5
        mach_msg_trap        5
Sample analysis of process 34486 written to file /dev/stdout
