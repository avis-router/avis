Avis Client Library Examples
======================================================================

Examples of using the Avis client library can be found in
"src/examples".


Running The Examples
----------------------------------------------------------------------

These examples can all be run from Ant via the tasks with "example-"
as their prefix. Run "ant -projecthelp" to see the available example
tasks.

You will need an Elvin router to run any of these examples -- you can
either install the Avis router (or other compatible Elvin router), or
use the public Elvin router at public.elvin.org.

To run an example from the console:

  > ant example-helloworld

or, if you aren't using a local router (i.e. elvin://localhost):

  > ant example-helloworld -Delvin=elvin://public.elvin.org


Looking Under The Hood
----------------------------------------------------------------------

In each example, an "ec" (Elvin Consumer) command is given that will
show the Elvin messages being sent. The ec command can be found in the
"bin" directory and is a useful way of dumping Elvin messages to the
console for debugging or recording purposes.

Try running ec in a separate console while running the examples.


Hello World
----------------------------------------------------------------------

This example demonstrates two Elvin connections in one application,
one sending the traditional "Hello World" message as a greeting, the
other one listening for all greetings and printing them to the
console.

It also demonstrates an easy way to have one thread wait for another
to receive a message. 

ec command: ec -e elvin://localhost "require (Greeting)"


Wall Broadcaster & Wall Receiver
----------------------------------------------------------------------

This example uses two console applications to simulate a simple Unix
"wall"-style command that broadcasts text to a number of consoles.

Start one or more Wall Receiver instances in one console each, and
then run a Wall Broadcaster in another console.

For example:

  Console 1:
  > ant example-wall-receiver

  Console 2:
  > ant example-wall-receiver

  Console 3:
  > ant example-wall-broadcaster

Now type some text into Console 3 (you may need to press Enter to make
it send) and see it sent to the two receivers. Try running more
broadcasters and receivers.

ec command: ec -e elvin://localhost "From == 'wall'"
